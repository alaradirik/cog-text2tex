build:
  cuda: "11.3"
  gpu: true
  system_packages:
    - "libgl1-mesa-glx"
    - "libglib2.0-0"
    - "gfortran"
    - "libopenblas-dev" 
    - "liblapack-dev"
    - "zip"
    - "python3-dev"
    - "build-essential"
    - "cmake"
    - "libssl-dev"
    - "libffi-dev"
    - "g++"
  python_version: "3.10"
  python_packages:
    - "torch==1.12.1"
    - "torchvision==0.13.1"
    - "torchaudio==0.12.1"
    - "cuda-python"
    - "fvcore"
    - "iopath"
    - "trimesh"
    - "scikit-learn"
    - "opencv-python"
    - "matplotlib"
    - "imageio"
    - "diffusers"
    - "einops"
    - "transformers"
    - "open-clip-torch"
    - "gradio"
    - "pytorch-lightning==1.9.1"
    - "omegaconf"
    - "triton"
    - "accelerate"
    - "objaverse"
    - "setuptools"
    - "mathutils"
    - "iopath==0.1.10"
    - "pydantic==1.10.14"
    - "xatlas"
  run:
    - "pip install --no-index --no-cache-dir pytorch3d -f https://dl.fbaipublicfiles.com/pytorch3d/packaging/wheels/py310_cu113_pyt1120/download.html"
    - curl -o /usr/local/bin/pget -L https://github.com/replicate/pget/releases/download/v0.6.0/pget_Linux_x86_64
    - chmod +x /usr/local/bin/pget
predict: "predict.py:Predictor"